{% extends 'base.html' %}

{% block title %}Билеты{% endblock %}

{% block content %}
<h1>Билеты</h1>
<div class="table-container" data-table="Ticket">
<table data-table="Ticket">
    <thead>
        <tr>
            <th style="display: none;" data-field="ticket_id">ID билета</th>
            <th data-field="date">Дата</th>
            <th data-field="direction">Направление</th>
            <th data-field="train">Поезд</th>
            <th data-field="seat">Посадочное место</th>
            <th data-field="customer">Покупатель</th>
            <th>Действия</th>
        </tr>
    </thead>
    <tbody>
        {% for ticket in tickets %}
        <tr data-table="Ticket" data-pk="{{ ticket.ticket_id }}">
            <td data-field="ticket_id" style="display: none;">{{ ticket.ticket_id }}</td>
            <td data-field="date">{{ ticket.date }}</td>
            <td data-field="direction">{{ ticket.direction }}</td>
            <td data-field="train">{{ ticket.train }}</td>
            <td data-field="seat">{{ ticket.seat }}</td>
            <td data-field="customer">{{ ticket.customer }}</td>
            <td>
                <a class="table-button view" href="{{ url_for('get_ticket', pk=ticket.ticket_id) }}">Подробнее</a>
                <button class="table-button delete" onclick="deleteItem('tickets', '{{ ticket.ticket_id }}')">Удалить</button>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<button id="createButton" class="table-button create">Создать</button>
</div>
{% endblock %}
